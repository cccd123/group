<view class="content">
  <view class="header">
    <view class="header-title">
      <view class="header-title-name {{ currentTab === 'all' ? 'active' : '' }}" data-tab="all" bindtap="switchTab">所有学校</view>
      <view class="header-title-name {{ currentTab === 'mySchool' ? 'active' : '' }}" data-tab="mySchool" bindtap="switchTab">仅看我校</view>
    </view>
  </view>

  <view class="main" wx:if="{{currentTab == 'all'}}">
    <!-- 添加项目ID绑定 -->
    <view class="main-item" wx:for="{{allProjectList}}" wx:key="id" bind:tap="projectDetails" data-project-id="{{item.id}}">
      <view>
        <text>{{item.title}}</text>
        <text>{{item.school}}</text>
      </view>
      <view>{{item.description}}</view>
      <view>
        <view class="main-school">
          <text>学校要求</text>
          <text>{{item.schoolRequirement}}</text>
        </view>
        <view class="main-skill">
          <text>技能要求</text>
          <text>{{item.skillRequirement}}</text>
        </view>
      </view>
    </view>
    
    <!-- 加载状态提示 -->
    <view wx:if="{{allPageInfo.loading}}" class="loading-more">
      <text>加载中...</text>
    </view>
    
    <!-- 没有更多数据提示 -->
    <view wx:if="{{!allPageInfo.hasMore && allProjectList.length > 0}}" class="no-more">
      <text>没有更多项目了</text>
    </view>
    
    <!-- 空状态 -->
    <view wx:if="{{allProjectList.length === 0 && !allPageInfo.loading}}" class="empty-state">
      <text>暂无项目</text>
    </view>
  </view>

  <view class="main" wx:if="{{currentTab == 'mySchool'}}">
    <!-- 添加项目ID绑定 -->
    <view class="main-item" wx:for="{{mySchoolProjectList}}" wx:key="id" bind:tap="projectDetails" data-project-id="{{item.id}}">
      <view>
        <text>{{item.title}}</text>
        <text>{{item.school}}</text>
      </view>
      <view>{{item.description}}</view>
      <view>
        <view class="main-school">
          <text>学校要求</text>
          <text>{{item.schoolRequirement}}</text>
        </view>
        <view class="main-skill">
          <text>技能要求</text>
          <text>{{item.skillRequirement}}</text>
        </view>
      </view>
    </view>
    
    <!-- 加载状态提示 -->
    <view wx:if="{{mySchoolPageInfo.loading}}" class="loading-more">
      <text>加载中...</text>
    </view>
    
    <!-- 没有更多数据提示 -->
    <view wx:if="{{!mySchoolPageInfo.hasMore && mySchoolProjectList.length > 0}}" class="no-more">
      <text>没有更多项目了</text>
    </view>
    
    <!-- 空状态 -->
    <view wx:if="{{mySchoolProjectList.length === 0 && !mySchoolPageInfo.loading}}" class="empty-state">
      <text>暂无本校项目</text>
    </view>
  </view>
  
</view>